import{_,r as u,a as x,o as a,c as r,b as t,d as b,w as y,t as o,n as c,i as v,F as h,e as P,f as w,g as k}from"./index-06a66cda.js";const L={class:"monitor-container p-4"},M={key:0,class:"empty-state bg-white p-8 rounded-lg shadow text-center"},T={key:1},N={class:"overview-card bg-white p-4 rounded-lg shadow mb-4"},S={class:"flex justify-between items-center mb-3"},j={class:"flex items-center"},z={class:"text-lg font-bold mr-2"},C={class:"text-gray-500"},V={class:"grid grid-cols-2 gap-2 mb-3"},B={class:"stat-item"},O={class:"font-semibold"},D={class:"stat-item"},G={class:"font-semibold"},U={class:"stat-item"},$={class:"font-semibold"},A={class:"stat-item"},F={class:"font-semibold"},H={class:"flex justify-between"},W={class:"strategy-status bg-white p-4 rounded-lg shadow mb-4"},E={class:"mb-3"},I={class:"flex justify-between mb-1"},R={class:"text-sm font-medium"},q={class:"relative h-2 bg-gray-200 rounded-full"},J={class:"mb-4"},K={class:"flex justify-between mb-1"},Q={class:"text-sm font-medium"},X={class:"relative h-2 bg-gray-200 rounded-full"},Y={class:"strategy-progress space-y-3"},Z={key:0,class:"status-line"},tt={class:"text-xs text-gray-500"},et={__name:"Monitor",setup(st){const p=u(!0),s=u({symbol:"BTC/USDT",direction:"LONG",openTime:"2023-08-16 10:30",entryPrice:3e4,currentPrice:32400,size:200,leverage:10,pnlPercent:8,pnlAmount:16,stopLossPrice:29400,stopLossPercent:2,takeProfitLevels:[20,50,100],additionalPositions:[]}),m=u([{title:"初始建仓",description:"2023-08-16 10:30 以 30000 开仓",completed:!0},{title:"第一次加仓",description:"盈利达到 10% 时加仓",completed:!1},{title:"第一次止盈",description:"盈利达到 20% 时平仓 1/3",completed:!1},{title:"第二次止盈",description:"盈利达到 50% 时平仓 1/3",completed:!1},{title:"追踪止盈",description:"剩余仓位设置 5% 回撤止盈",completed:!1}]),g=()=>{const d=s.value.currentPrice,e=s.value.entryPrice,n=s.value.stopLossPrice;if(s.value.direction==="LONG"){const l=e-n,i=d-n;return`${Math.min(100,Math.max(0,i/l*100))}%`}else{const l=n-e,i=n-d;return`${Math.min(100,Math.max(0,i/l*100))}%`}},f=()=>{const d=s.value.pnlPercent,e=s.value.takeProfitLevels[0];return`${Math.min(100,d/e*100)}%`};return(d,e)=>{const n=x("router-link");return a(),r("div",L,[e[15]||(e[15]=t("h1",{class:"text-2xl font-bold mb-4"},"策略监控",-1)),p.value?(a(),r("div",T,[t("div",N,[t("div",S,[t("div",j,[t("span",z,o(s.value.symbol),1),t("span",{class:c(["px-2 py-1 rounded text-sm font-medium",{"bg-green-100 text-green-800":s.value.direction==="LONG","bg-red-100 text-red-800":s.value.direction==="SHORT"}])},o(s.value.direction==="LONG"?"多仓":"空仓"),3)]),t("span",C,o(s.value.openTime),1)]),t("div",V,[t("div",B,[e[4]||(e[4]=t("div",{class:"text-sm text-gray-500"},"开仓价",-1)),t("div",O,o(s.value.entryPrice),1)]),t("div",D,[e[5]||(e[5]=t("div",{class:"text-sm text-gray-500"},"当前价",-1)),t("div",G,o(s.value.currentPrice),1)]),t("div",U,[e[6]||(e[6]=t("div",{class:"text-sm text-gray-500"},"仓位大小",-1)),t("div",$,o(s.value.size)+" USDT",1)]),t("div",A,[e[7]||(e[7]=t("div",{class:"text-sm text-gray-500"},"杠杆倍数",-1)),t("div",F,o(s.value.leverage)+"×",1)])]),t("div",{class:c(["pnl-info p-3 rounded-lg mb-3",{"bg-green-50":s.value.pnlPercent>0,"bg-red-50":s.value.pnlPercent<0}])},[t("div",H,[e[8]||(e[8]=t("span",null,"未实现盈亏:",-1)),t("span",{class:c(["font-bold",{"text-green-600":s.value.pnlPercent>0,"text-red-600":s.value.pnlPercent<0}])},o(s.value.pnlPercent>0?"+":"")+o(s.value.pnlPercent)+"% ("+o(s.value.pnlAmount)+" USDT) ",3)])],2),e[9]||(e[9]=t("div",{class:"flex justify-center"},[t("button",{class:"bg-red-600 text-white py-2 px-8 rounded-lg font-medium"},"立即平仓")],-1))]),t("div",W,[e[13]||(e[13]=t("h2",{class:"text-lg font-semibold mb-3"},"策略执行状态",-1)),t("div",E,[t("div",I,[e[10]||(e[10]=t("span",{class:"text-sm"},"止损设置",-1)),t("span",R,o(s.value.stopLossPrice)+" ("+o(s.value.stopLossPercent)+"%)",1)]),t("div",q,[t("div",{class:"absolute left-0 top-0 h-full bg-red-500 rounded-full",style:v({width:g()})},null,4)])]),t("div",J,[t("div",K,[e[11]||(e[11]=t("span",{class:"text-sm"},"止盈目标",-1)),t("span",Q,o(s.value.takeProfitLevels.join("% → "))+"%",1)]),t("div",X,[t("div",{class:"absolute left-0 top-0 h-full bg-green-500 rounded-full",style:v({width:f()})},null,4)])]),e[14]||(e[14]=t("h3",{class:"font-medium mb-2"},"策略执行进度",-1)),t("ul",Y,[(a(!0),r(h,null,P(m.value,(l,i)=>(a(),r("li",{key:i,class:"flex items-start"},[t("div",{class:c(["step-status mr-3 mt-1",{"step-completed":l.completed}])},[e[12]||(e[12]=t("div",{class:"status-circle"},null,-1)),i<m.value.length-1?(a(),r("div",Z)):k("",!0)],2),t("div",null,[t("div",{class:c(["text-sm font-medium",{"text-blue-600":l.completed}])},o(l.title),3),t("div",tt,o(l.description),1)])]))),128))])])])):(a(),r("div",M,[e[1]||(e[1]=t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-16 w-16 mx-auto text-gray-400 mb-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})],-1)),e[2]||(e[2]=t("h2",{class:"text-lg font-semibold mb-2"},"暂无持仓",-1)),e[3]||(e[3]=t("p",{class:"text-gray-500 mb-4"},"当前没有激活的交易策略",-1)),b(n,{to:"/",class:"bg-blue-600 text-white px-6 py-2 rounded-lg inline-block"},{default:y(()=>e[0]||(e[0]=[w(" 去开仓 ")])),_:1,__:[0]})]))])}}},lt=_(et,[["__scopeId","data-v-9fb3095d"]]);export{lt as default};
